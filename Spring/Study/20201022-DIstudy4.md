---
sort:
---

# DI study(4)

### 참고
- [책] 90~102page

## 스프링의 서버와 클라이언트
![](https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F247D803A5834FC2C35)

- 서버에서 무슨일을 하는지 클라이언트가 모르게 해야 한다. 
- 사용에 영향을 미치면 안되기 때문이다.

- [Main메소드]가 있는 영역이 [Client부분]이다. 
  - 클래스를 관리하는 Container
 
- [Spring]에서 [ApplicationContext]이 [Server부분]이다.
  - 여러개가 필요할 때는 ProtoType Pattern , 한 개만 필요할 때는 싱글턴 패턴을 사용한다.
    - XE는 500개 정도 접근이 가능하다.
    - 커넥션 1000만 개 이상 저장할 수 있는 컴퓨터는 없다. 
    - 그래서 커넥션 객체 생성을 조절할 수 있어야 하는데, 한 사람당 서버 하나만 사용하게 하는 것이 싱글턴 패턴이다. 
    - DBCP 
    ![](https://t1.daumcdn.net/cfile/tistory/21373937580AEF9B37)
  
## Container란?
- 기본적으로 Container는 여러개의 클래스를 모아서 관리를 하는 영역을 지칭한다.
- 클래스의 객체를 쌓아두는 공간이라고 볼 수 있다. 
- ApplicationContext : 스프링 4버전에서 주로 사용한다.
  - XML을 파싱하는 기능을 가지고 있다.
- AnnotaionConfigApplicationContext : 스프링 5버전에서 자주 사용한다.
  - Annotaion 관련 기능



## XML버전

### 두 개 이상의 설정파일이 존재할 때 처리하는 방식 (=xml 여러 개로 분산된 경우)
- app1.xml (사원) , app2.xml (멤버) 이 존재하는 경우
- 작업하는 사람이 7명이면, 설정파일이 8개이다.

- xml은 배열 형식으로 설정파일을 받는다.
- 어노테이션은 배열로 받지 않아도 된다.



- return형이 object니까 반드시 형변환을 해야한다.
- getBean은 저장되어 있는 객체 주소를 받아오는 것임


### 스프링의 기능
- DL은 id를 가지고 클래스를 찾아주는 과정이다.
- ![](https://lh3.googleusercontent.com/proxy/cV-ZFatg64RArNwXlCLFFZf1pQb4PZFN8PCF6OwUWQV7Mg3S2SeLyfKM9G19fWXjN4h9gDWMXvZly64Eq7jQb82QQsnzMjg6nfQzd0mBNzyfPurPJzrbHlcCnKYMrweaiC2mK2ixXNxjQE9nuEPHP2i5oU3p7WuKBWL7YLkwTVHzM334LY73vJI3Y6b51YPqu9fd9JrEExl_R2hD_gKV8Q44A2yFmFKGTr0wRU_sFXD3h83PJPNXVMU1bfO4hm1VVQIwzTKTRQG_ymajHvBuVOd0kSSFFb9HNQ)



## 자바버전
- 등장배경 : 점점 많은 프로그램의 xml파일이 추가되어서 복잡도가 증가하기 때문이다.
- VO는 스프링에서 관리 대상 클래스가 아니다. : 사용자 정의 데이터형
- 스프링에서 관리하는 대상 (Bean)
  - DAO : @Repository
  - Manager(웹크롤링,트위터,openAPI) : @Component
  - Model : @Controller
  - Service (DAO + DAO = BI) : @Service
  - 공통모듈 : @Aspect
- 기능이 있는 데이터만 관리하고, DB는 관리하지 않는다.
