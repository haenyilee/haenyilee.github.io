---
sort: 13
---


# [Java]쓰레드(Thread)

## 쓰레드의 장점
- 자원을 보다 효율적으로 사용
- 사용자에 대한 응답성이 향상 
  - 쓰레드마다 따로따로 대답해줄 수 있어진다고 생각하면 됨
- 작업이 분리된다(소스코드가 간결화됨)
- CPU를 효율적으로 사용하기 떄문에 속도가 빨라짐
- 실행중인 프로그램 => 프로세스(쓰레드가 1개 이상 존재)

## 쓰레드의 단점
- 동기화 문제 발생
- deadlock(교착상태) 발생 : 두 쓰레드가 자원을 점유한 상태에서 상대편이 점유한 자원을 사용하려고 기다리느라 진행이 멈춰있는 것

## 쓰레드 구현 방법
1. Runnable 인터페이스

```java
class A implements Runnable // 윈도우
```

2. Thread 클래스

```java
class A extends Thread // 일반쓰레드
```

## 쓰레드 실행과정
> 쓰레드의 동작을 정의하고 run()을 구현하는 과정  

> 쓰레드는 반드시 한 개의 동작만 수행함

1. 생성 : ```new Thread()```  
2. 대기 : ```start()``` 쓰레드에서 사용하는 데이터 수집단계  
3. 동작 : ```run()``` 클라이언트가 접속을 했을 경우, 각자 통신이 가능하게 쓰레드랑 연결시켜줌
4. (1) 종료 : ```interrupt()```    
4. (2) 일시정지 : ```sleep()``` , ```wait()``` , ```join()```  

## 쓰레드 생성과 가상머신
> 쓰레드가 생성되면 가상머신이 자동으로 결정해주는 요소가 있음  

> ```.setName("")```과 ```.setPriority()```를 통해 직접 설정해줄수도 있음

1. 가상머신(JVM)이 각 쓰레드마다 이름을 부여해줌  
    - 자바프로그램은 MAX_PRIORITY(main)과 MIN_PRIORITY(gc)를 가지고 있기 때문에 멀티 쓰레드를 지원함
    - getName(), setName()

2. 가상머신(JVM)이 순위를 결정해줌  
    - getPriority(),setPriority()
    
  ``` 
  사용자 정의 쓰레드 (5)
  1: MIN_PRIORITY , 10 : MAX_PRIORITY , 5 : NORM_PRIORITY
  ```

## 쓰레드의 호출
- ```start()```를 시행하면 자동으로 ```run()```이 호출됨
- 실행할때마다 속도가 달라짐
- 각 쓰레드마다 한 번씩 시행됨
    - 시분할 : 한번씩 번갈아서 수행됨

## 멀티쓰레드
- 클라이언트 요청이 들어올때마다 각자 1개의 쓰레드를 배정시켜줘서 동시에 다른 역할 수행 가능
